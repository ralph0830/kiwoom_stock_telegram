# ============================================================
# 모의투자/실전투자 설정
# ============================================================

USE_MOCK=false                 # 모의투자 설정 (true: 모의투자, false: 실전투자)
DEBUG=false                    # 디버그 모드 (true: 실시간 시세 계속 출력, false: 출력 안함)

# ============================================================
# 키움증권 API KEY
# ============================================================

# 실전투자 API KEY
KIWOOM_APP_KEY=your_real_app_key
KIWOOM_SECRET_KEY=your_real_secret_key

# 모의투자 API KEY
KIWOOM_MOCK_APP_KEY=your_mock_app_key
KIWOOM_MOCK_SECRET_KEY=your_mock_secret_key

# ============================================================
# 자동매매 설정
# ============================================================

ACCOUNT_NO=12345678-01         # 계좌번호
MAX_INVESTMENT=2000000         # 최대 투자금액 (원)
TARGET_PROFIT_RATE=1.0         # 목표 수익률 (%) - 기본값: 1.0%

# ============================================================
# 매수 가능 시간 설정
# ============================================================

BUY_START_TIME=08:50           # 매수 시작 시간
BUY_END_TIME=12:10             # 매수 종료 시간

# ============================================================
# 매수 주문 타입 설정 (v1.6.0)
# ============================================================

BUY_ORDER_TYPE=market          # 매수 주문 타입 선택
                               # - market: 시장가 즉시 매수 (기본값)
                               #   · 장점: 체결 속도 빠름 (0.8초), 100% 체결 보장
                               #   · 단점: 가격 슬리피지 있음 (+0.5~1%)
                               # - limit_plus_one_tick: 현재가+1틱 지정가 매수
                               #   · 장점: 유리한 가격 진입, 슬리피지 최소화
                               #   · 단점: 미체결 리스크 있음

# ============================================================
# 매수 체결 확인 설정 (지정가 주문 시만 사용, v1.6.0)
# ============================================================

BUY_EXECUTION_TIMEOUT=30       # 매수 체결 확인 타임아웃 (초)
                               # 권장값:
                               #   - 급등주: 15~20초 (빠른 결정 필요)
                               #   - 일반 종목: 30초 (여유 있게 대기)

BUY_EXECUTION_CHECK_INTERVAL=5 # 매수 체결 확인 주기 (초)
                               # 기본값: 5초
                               # 너무 짧게 설정 시 API 부하 발생 가능

# ============================================================
# 지정가 미체결 시 폴백 전략 (v1.6.0)
# ============================================================

BUY_FALLBACK_TO_MARKET=true    # 지정가 미체결 시 시장가 폴백 여부
                               # - true: 미체결 시 시장가로 재주문 (진입 기회 확보, 기본값)
                               # - false: 미체결 시 주문 취소하고 종료 (가격 우선)

# ============================================================
# 매도 모니터링 설정
# ============================================================

ENABLE_SELL_MONITORING=true    # 자동 매도 모니터링 활성화 (true: 활성화, false: 비활성화)

# ============================================================
# 손절 설정
# ============================================================

ENABLE_STOP_LOSS=true          # 손절 모니터링 활성화 (true: 활성화, false: 비활성화)
STOP_LOSS_RATE=-2.5            # 손절 수익률 (%) - 기본값: -2.5%
STOP_LOSS_DELAY_MINUTES=3      # 매수 후 손절 지연 시간 (분) - 기본값: 3분 (0: 즉시 손절 가능)

# ============================================================
# 일일 강제 청산 설정
# ============================================================

ENABLE_DAILY_FORCE_SELL=true   # 일일 강제 청산 활성화 (true: 활성화, false: 비활성화)
DAILY_FORCE_SELL_TIME=15:19    # 강제 청산 시간 (기본값: 15:19 - 장마감 11분 전)

# ============================================================
# 미체결 주문 처리 설정
# ============================================================

CANCEL_OUTSTANDING_ON_FAILURE=true    # 미체결 시 주문 취소 여부 (true: 취소 후 재모니터링, false: 주문 유지)
OUTSTANDING_CHECK_TIMEOUT=30          # 체결 확인 타임아웃 (초) - 기본값: 30초
OUTSTANDING_CHECK_INTERVAL=5          # 체결 확인 주기 (초) - 기본값: 5초

# ============================================================
# 실시간 체결 정보 검증 설정
# ============================================================

ENABLE_LAZY_VERIFICATION=true         # 실시간 체결 정보 자동 검증
                                      # true: 개선 모드 - 즉시 모니터링 + 자동 업데이트
                                      # false: 기존 모드 - 추정값만 사용

# ============================================================
# 주기적 평균단가 업데이트 설정 (v1.4.0 - v1.5.0부터 기본 비활성화)
# ============================================================

BALANCE_CHECK_INTERVAL=0              # 계좌 조회 주기 (초)
                                      # 0: 비활성화 (기본값, 성능 최적화)
                                      # >0: 활성화 (수동 매수 시 평균 매입단가 자동 반영)
                                      # ⚡ 성능: 비활성화 시 매매 타이밍 최대 360ms 향상
                                      # 💡 사용법: 수동 매수 시 프로그램 재시작으로 자동 반영

# ============================================================
# Telegram API 설정 (필수)
# ============================================================
# https://my.telegram.org/auth 에서 발급받으세요
# 1. 전화번호로 로그인
# 2. "API development tools" 클릭
# 3. 앱 생성 (이름은 아무거나)
# 4. api_id와 api_hash 복사

API_ID=12345678
API_HASH=abcdef1234567890abcdef1234567890
SESSION_NAME=channel_copier

# ============================================================
# Telegram 채널 설정
# ============================================================
# 채널 지정 방법:
# 1. 공개 채널: https://t.me/channel_name 또는 @channel_name
# 2. 비공개 채널 (초대 링크): https://t.me/+invitelink
# 3. 비공개 채널 (채널 ID): -1001234567890
#
# 💡 팁: 채널 ID 확인 방법
#    - Telegram Web (https://web.telegram.org/a/)에서 채널 접속
#    - URL의 숫자 부분이 채널 ID (예: -1001234567890)

SOURCE_CHANNEL=https://t.me/your_source_channel  # 매수 신호를 받을 채널 (필수)
TARGET_CHANNEL=@your_target_channel              # 알림을 보낼 채널 (선택, 메시지 복사용)
